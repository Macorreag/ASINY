<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title>Localization</title>
    <style>
      html,
      body {
        font-family: Arial, sans-serif;
        height: 100%;
        margin: 0;
        padding: 0;
      }

      #map {
        height: 100%;
      }

    </style>
  </head>

  <body>

    <div id="map"></div>
    <script>
      var map;

      function initMap() {
        // Constructor creates a new map - only center and zoom are required.
        map = new google.maps.Map(document.getElementById('map'), {
          /*Aqui vive el mapa,se maneja dentro de la clase google.maps*/
          center: {
            lat: 40.7413549,
            lng: -73.9980244
          },
          zoom: 13
          /*29 niveles de zoom para iniciar la vista*/
        });
      }

    </script>
    <!--Cargar la API de google maps de forma Asincrona*/-->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCcVSzMvDoSRvr9RUUIjrLLJ1HjTrUBKcg&v=3&callback=initMap">


    </script>

    <button type="button" onclick="findMe()" name="button">Ubicarme!</button>
    <div id="map">

    </div>
    <script type="text/javascript">
      function findMe() {
        var output = document.getElementById('map');

        /*Se valida si el navegador permite Geolocalizacion*/
        if (navigator.geolocation) {
          output.innerHTML = '<p> El Navegador soporta Geolocalizacion </p>';
        } else {
          output.innerHTML = '<p> El Navegador No soporta Geolocalizacion </p>';
        }

        /*Funcion que se pasa como parametro para obtener los valores de Geolocalizacion*/
        function location(position) {
          var latitude = position.coords.latitude;
          var longitude = position.coords.longitude;

          output.innerHTML = "<p>latitude = " + latitude + "  longitude = " + longitude + " </p>";
        }

        function error() {
          output.innerHTML = "<p>No se pudo obtener la ubicacion </p>";
        }

        /*Obtener la Geolocalizacion proporcionada por el navegador*/
        navigator.geolocation.getCurrentPosition(location, console.error);


      }

    </script>
  </body>

</html>
